<!doctype html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<title>Automatic staging environment creation in Azure Static Web Apps - Joost&#39;s blog</title>
<meta name="viewport" content="width=device-width, initial-scale=1">


<meta name="generator" content="Hugo 0.83.1" /><meta property="og:site_name" content="Joost&#39;s blog">
  <meta property="og:title" content="Automatic staging environment creation in Azure Static Web Apps">
  <meta property="og:description" content="">
  <meta property="description" content="">
  <meta property="og:url" content="https://joosthaneveer.github.io/2020/06/automatic-staging-environment-creation-in-azure-static-web-apps/">
  <meta property="og:type" content="article">
  
    
      <meta property="og:image" content="https://joosthaneveer.github.io/2020/06/automatic-staging-environment-creation-in-azure-static-web-apps/Azure-portal-environments-overview-staging-created.png">
      <meta property="og:image:alt" content="Environment page in the Azure Portal">
    
  
  <meta property="twitter:site" content="joosthaneveer">
            <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.6.0/styles/github.min.css">
          <link rel="stylesheet" href="/css/bundle.min.1bfccf86359e3de974865922b006112447a52f942c2a9c2bf93d159980ae641b.css" integrity="sha256-G/zPhjWePel0hlkisAYRJEelL5QsKpwr&#43;T0VmYCuZBs="><link rel="stylesheet" href="/css/add-on.css">
</head>

  <body>
    

<header id="site-header">
  <nav id="site-nav">
    <h1 class="nav-title">
      <a href="/" class="nav">
        
          Joost's blog
        
      </a>
    </h1>
    <menu id="site-nav-menu" class="flyout-menu menu">
      
        
          
          <a href="/posts/" class="nav link"><i class='far fa-newspaper'></i> Blog</a>
        
      
        
          
          <a href="/about/" class="nav link"><i class='far fa-id-card'></i> About</a>
        
      
        
          
          <a href="/categories/" class="nav link"><i class='fas fa-sitemap'></i> Categories</a>
        
      
      <a href="#share-menu" class="nav link share-toggle"><i class="fas fa-share-alt">&nbsp;</i>Share</a>
      <a href="#search-input" class="nav link search-toggle"><i class="fas fa-search">&nbsp;</i>Search</a>
    </menu>
    <a href="#search-input" class="nav search-toggle"><i class="fas fa-search fa-2x">&nbsp;</i></a>
    <a href="#share-menu" class="nav share-toggle"><i class="fas fa-share-alt fa-2x">&nbsp;</i></a>
    
    <a href="#site-nav" class="nav nav-toggle"><i class="fas fa-bars fa-2x"></i></a>
  </nav>
  <menu id="search" class="menu"><input id="search-input" class="search-input menu"></input><div id="search-results" class="search-results menu"></div></menu>
  
  
    <menu id="share-menu" class="flyout-menu menu">
      <h1>Share Post</h1>
      




  
    
    <a href="//twitter.com/share?text=Automatic%20staging%20environment%20creation%20in%20Azure%20Static%20Web%20Apps&amp;url=https%3a%2f%2fjoosthaneveer.github.io%2f2020%2f06%2fautomatic-staging-environment-creation-in-azure-static-web-apps%2f" target="_blank" rel="noopener" class="nav share-btn twitter">
        <p>Twitter</p>
      </a>
  

  
      <a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fjoosthaneveer.github.io%2f2020%2f06%2fautomatic-staging-environment-creation-in-azure-static-web-apps%2f" target="_blank" rel="noopener" class="nav share-btn facebook">
        <p>Facebook</p>
        </a>
  

  
        <a href="//www.linkedin.com/shareArticle?url=https%3a%2f%2fjoosthaneveer.github.io%2f2020%2f06%2fautomatic-staging-environment-creation-in-azure-static-web-apps%2f&amp;title=Automatic%20staging%20environment%20creation%20in%20Azure%20Static%20Web%20Apps" target="_blank" rel="noopener" class="nav share-btn linkedin">
            <p>LinkedIn</p>
          </a>
  

  
        <a href="mailto:?subject=Check%20out%20this%20post%20by Joost&amp;body=https%3a%2f%2fjoosthaneveer.github.io%2f2020%2f06%2fautomatic-staging-environment-creation-in-azure-static-web-apps%2f" target="_blank" class="nav share-btn email" data-proofer-ignore>
          <p>Email</p>
        </a>
  


    </menu>
  
</header>

    <div id="wrapper">
      <section id="site-intro" >
  <a href="/"><img src="https://www.gravatar.com/avatar/6fcb81b5de538fb939bc87beb56592d8?s=150&amp;d=mp" class="circle" width="100" alt="Photo Joost Haneveer" /></a>
  <header>
    <h1>Joost's blog</h1>
  </header>
  <main>
    
  </main>
  
    <footer>
      <ul class="socnet-icons">
        

        <li><a href="//github.com/joosthaneveer" target="_blank" rel="noopener" title="GitHub" class="fab fa-github"></a></li>











<li><a href="//www.linkedin.com/in/joosthaneveer" target="_blank" rel="noopener" title="LinkedIn" class="fab fa-linkedin"></a></li>















<li><a href="//twitter.com/joosthaneveer" target="_blank" rel="noopener" title="Twitter" class="fab fa-twitter"></a></li>













      </ul>
    </footer>
  
</section>

      <main id="site-main">
        
  <article>
    <div class="post">
      <header>
  <div class="title">
    
      <h2><a href="/2020/06/automatic-staging-environment-creation-in-azure-static-web-apps/">Automatic staging environment creation in Azure Static Web Apps</a></h2>
    
    
  </div>
  <div class="meta">
    <time datetime="2020-06-28 08:48:23 &#43;0200 &#43;0200">June 28, 2020</time>
    <p>Joost</p>
    <p>2-Minute Read</p>
  </div>
</header>

      <div id="socnet-share">
        




  
    
    <a href="//twitter.com/share?text=Automatic%20staging%20environment%20creation%20in%20Azure%20Static%20Web%20Apps&amp;url=https%3a%2f%2fjoosthaneveer.github.io%2f2020%2f06%2fautomatic-staging-environment-creation-in-azure-static-web-apps%2f" target="_blank" rel="noopener" class="nav share-btn twitter">
        <p>Twitter</p>
      </a>
  

  
      <a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fjoosthaneveer.github.io%2f2020%2f06%2fautomatic-staging-environment-creation-in-azure-static-web-apps%2f" target="_blank" rel="noopener" class="nav share-btn facebook">
        <p>Facebook</p>
        </a>
  

  
        <a href="//www.linkedin.com/shareArticle?url=https%3a%2f%2fjoosthaneveer.github.io%2f2020%2f06%2fautomatic-staging-environment-creation-in-azure-static-web-apps%2f&amp;title=Automatic%20staging%20environment%20creation%20in%20Azure%20Static%20Web%20Apps" target="_blank" rel="noopener" class="nav share-btn linkedin">
            <p>LinkedIn</p>
          </a>
  

  
        <a href="mailto:?subject=Check%20out%20this%20post%20by Joost&amp;body=https%3a%2f%2fjoosthaneveer.github.io%2f2020%2f06%2fautomatic-staging-environment-creation-in-azure-static-web-apps%2f" target="_blank" class="nav share-btn email" data-proofer-ignore>
          <p>Email</p>
        </a>
  


      </div>
      <div class="content">
        <a href="/2020/06/automatic-staging-environment-creation-in-azure-static-web-apps/" class="image" style="--bg-image: url('https://joosthaneveer.github.io/2020/06/automatic-staging-environment-creation-in-azure-static-web-apps/Azure-portal-environments-overview-staging-created.png');">
    <img src="https://joosthaneveer.github.io/2020/06/automatic-staging-environment-creation-in-azure-static-web-apps/Azure-portal-environments-overview-staging-created.png" alt="Environment page in the Azure Portal">
  </a>
        <p>Everyone knows that publishing code directly to Production is not the best idea. Azure Static Web Apps offer the ability to automatically create a fully-functional staging environment for you when you want to publish new code.</p>
<p>I&rsquo;m going to start this article based on the assumption that you&rsquo;ve already set up your Azure Static Web App and the <a href="https://docs.microsoft.com/en-us/azure/static-web-apps/github-actions-workflow">GitHub Action</a> that is publishing your content to Azure. (Not yet? <a href="https://docs.microsoft.com/en-us/azure/static-web-apps/publish-hugo">Here is a tutorial how to setup Hugo on Azure Static Web Apps</a>)</p>
<h3 id="make-the-change">Make the change</h3>
<p>Begin with making a change to the code in your repository. Make sure you do this in a seperate branch.
After you&rsquo;ve made the changes, commit them to your branch.</p>
<h3 id="create-a-pull-request">Create a pull request</h3>
<p>Next, create a pull request from this change.
After the pull request is created, the GitHub Actions deployment workflow runs and deploys your changes to a staging environment.</p>


<img src="/2020/06/automatic-staging-environment-creation-in-azure-static-web-apps/GitHub-comment-staging-link.png" alt="">
<p>Once the workflow has completed building and deploying your app, the GitHub bot adds a comment to your pull request which contains the URL of the staging environment. You can click on this link to see your staged changes.</p>
<p>For a given pull request, the URL remains the same even if you push new updates. In addition to the URL staying constant, the same staging environment is reused for the life of the pull request.</p>
<p><strong>Note:</strong> <a href="https://docs.microsoft.com/en-us/azure/static-web-apps/review-publish-pull-requests">At this moment access to staging environments is not restricted, so be careful when publishing sensitive content.</a></p>
<h3 id="publish-your-changes">Publish your changes</h3>
<p>Once you&rsquo;ve reviewed your changes in the staging environment you can publish your code to production by merging the pull request.
Your staging environment will be automatically deleted at this time.</p>


<img src="/2020/06/automatic-staging-environment-creation-in-azure-static-web-apps/Azure-portal-environments-overview-staging-deleting.png" alt="">
<p>The GitHub Action running on your main branch kicks in again to build and publish your code to your Production URL.</p>

      </div>
      <footer>
        <div class="stats">
  
    <ul class="categories">
      
        
          <li><a class="article-terms-link" href="/categories/azure/">Azure</a></li>
        
      
    </ul>
  
  
    <ul class="tags">
      
        
          <li><a class="article-terms-link" href="/tags/azure-static-web-apps/">Azure Static Web Apps</a></li>
        
          <li><a class="article-terms-link" href="/tags/github-actions/">GitHub Actions</a></li>
        
      
    </ul>
  
</div>

      </footer>
    </div>
    
      

    
  </article>
  <div class="pagination">
    
    
      <a href="/hugo/bye-bye-wordpress-hello-hugo/" class="button right"><span>Bye bye Wordpress, Hello Hugo</span></a>
    
  </div>

      </main>
      <section id="site-sidebar">
  
    <section id="recent-posts">
      <header>
        <h1>Recent Posts</h1>
      </header>
      
      <article class="mini-post">
          <a href="/2020/06/automatic-staging-environment-creation-in-azure-static-web-apps/" class="image" style="--bg-image: url('https://joosthaneveer.github.io/2020/06/automatic-staging-environment-creation-in-azure-static-web-apps/Azure-portal-environments-overview-staging-created.png');">
    <img src="https://joosthaneveer.github.io/2020/06/automatic-staging-environment-creation-in-azure-static-web-apps/Azure-portal-environments-overview-staging-created.png" alt="Environment page in the Azure Portal">
  </a>
        <header>
          <h2><a href="/2020/06/automatic-staging-environment-creation-in-azure-static-web-apps/">Automatic staging environment creation in Azure Static Web Apps</a></h2>
          <time class="published" datetime="2020-06-28 08:48:23 &#43;0200 &#43;0200">June 28, 2020</time>
        </header>
      </article>
      
      <article class="mini-post">
          <a href="/hugo/bye-bye-wordpress-hello-hugo/" class="image" style="--bg-image: url('https://joosthaneveer.github.io/hugo/bye-bye-wordpress-hello-hugo/hugo.png');">
    <img src="https://joosthaneveer.github.io/hugo/bye-bye-wordpress-hello-hugo/hugo.png" alt="Hugo logo">
  </a>
        <header>
          <h2><a href="/hugo/bye-bye-wordpress-hello-hugo/">Bye bye Wordpress, Hello Hugo</a></h2>
          <time class="published" datetime="2020-06-22 15:59:23 &#43;0200 &#43;0200">June 22, 2020</time>
        </header>
      </article>
      
      <article class="mini-post">
          <a href="/sharepoint/run-spcaf-analysis-teambuild/" class="image" style="--bg-image: url('https://joosthaneveer.github.io/sharepoint/run-spcaf-analysis-teambuild/120613_1318_HowtorunSPC9.jpg');">
    <img src="https://joosthaneveer.github.io/sharepoint/run-spcaf-analysis-teambuild/120613_1318_HowtorunSPC9.jpg" alt="Screenshot">
  </a>
        <header>
          <h2><a href="/sharepoint/run-spcaf-analysis-teambuild/">How to run SPCAF v5 analysis during TeamBuild in TFS 2013</a></h2>
          <time class="published" datetime="2014-10-16 06:22:23 &#43;0000 UTC">October 16, 2014</time>
        </header>
      </article>
      
      
        <footer>
          <a href="/posts/" class="button">See More</a>
        </footer>
      
    </section>
  

  
    

      <section id="categories">
        <header>
          <h1><a href="/categories">Categories</a></h1>
        </header>
        <ul>
          
          
          <li>
              <a href="/categories/sharepoint/">sharepoint<span class="count">5</span></a>
          
          <li>
              <a href="/categories/tfs/">tfs<span class="count">3</span></a>
          
          <li>
              <a href="/categories/azure/">azure<span class="count">2</span></a>
          
          <li>
              <a href="/categories/asp.net/">asp.net<span class="count">1</span></a>
          
          <li>
              <a href="/categories/hugo/">hugo<span class="count">1</span></a>
          
          <li>
              <a href="/categories/jquery/">jquery<span class="count">1</span></a>
          
          <li>
              <a href="/categories/msdn/">msdn<span class="count">1</span></a>
          
          <li>
              <a href="/categories/mvc-5/">mvc-5<span class="count">1</span></a>
          
          <li>
              <a href="/categories/windows-server-2012-r2/">windows-server-2012-r2<span class="count">1</span></a>
          
          </li>
        </ul>
      </section>
    
  

  
    <section id="mini-bio">
      <header>
        <h1>About</h1>
      </header>
      <p>This blog is maintained by Joost Haneveer.</p>
      <footer>
        <a href="/about" class="button">Learn More</a>
      </footer>
    </section>
  
</section>

      <footer id="site-footer">
  
      <ul class="socnet-icons">
        

        <li><a href="//github.com/joosthaneveer" target="_blank" rel="noopener" title="GitHub" class="fab fa-github"></a></li>











<li><a href="//www.linkedin.com/in/joosthaneveer" target="_blank" rel="noopener" title="LinkedIn" class="fab fa-linkedin"></a></li>















<li><a href="//twitter.com/joosthaneveer" target="_blank" rel="noopener" title="Twitter" class="fab fa-twitter"></a></li>













      </ul>
  
  <p class="copyright">
    © 2020 Joost Haneveer
      <br>
    Theme: <a href='https://github.com/pacollins/hugo-future-imperfect-slim' target='_blank' rel='noopener'>Hugo Future Imperfect Slim</a><br>A <a href='https://html5up.net/future-imperfect' target='_blank' rel='noopener'>HTML5 UP port</a> | Powered by <a href='https://gohugo.io/' title='0.83.1' target='_blank' rel='noopener'>Hugo</a>
  </p>
</footer>
<a id="back-to-top" href="#" class="fas fa-arrow-up fa-2x"></a>

      <script src="/js/highlight.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.6.0/languages/css.min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.6.0/languages/javascript.min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.6.0/languages/ini.min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.6.0/languages/xml.min.js"></script>
    <script>hljs.highlightAll();</script><script src="/js/bundle.min.0d6d5906b5bbda82c593c22fb4c2af1bf9a99cf2d58e2734fe9c144f15e54232.js" integrity="sha256-DW1ZBrW72oLFk8IvtMKvG/mpnPLVjic0/pwUTxXlQjI="></script>
    <script src="/js/add-on.js"></script>
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-30235886-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

    </div>
  </body>
</html>
